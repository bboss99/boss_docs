

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  

    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-197011172-4', 'auto');
    ga('send', 'pageview');
    </script>
    <!-- End Google Analytics -->


  <title>Geo &mdash; BOSS  documentation</title>
  


  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="RectData" href="RectData.html" />
    <link rel="prev" title="Boss_OT_base_ui" href="Boss_OT_base_ui.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> BOSS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/Installation.html">Download/Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/ui_creator.html">ui_creator.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/Launchers.html">Launchers (Quick Run)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/Comparisons.html">Comparisons</a></li>
</ul>
<p class="caption"><span class="caption-text">UI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ui/Panel.html">Panel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/Button.html">Button</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/CheckBox.html">CheckBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/TextField.html">TextField</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/IntField.html">IntField</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/FloatField.html">FloatField</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/VectorFields.html">VectorFields</a></li>
</ul>
<p class="caption"><span class="caption-text">Classes</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Boss_OT_base_ui.html">Boss_OT_base_ui</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Geo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#optimized">optimized</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="RectData.html">RectData</a></li>
<li class="toctree-l1"><a class="reference internal" href="Text.html">Text</a></li>
</ul>
<p class="caption"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/Events_And_Callbacks.html">Events and Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/Errors.html">Errors</a></li>
</ul>
<p class="caption"><span class="caption-text">Future Updates</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../future_updates/Future_Updates.html">Future updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../future_updates/Images.html">Images</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BOSS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Geo</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/classes/Geo.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="geo">
<span id="geo-title"></span><h1>Geo<a class="headerlink" href="#geo" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><strong>User need not be concerned with Geo class.</strong></p></li>
<li><p>This class is base class of RectGeo, EllipseGeo and other kinds of Geo classes.</p></li>
<li><p>This class is responsible for drawing of UI.</p></li>
<li><p>Every Panel/Button has a Geo instance.</p></li>
<li><p>Its functions and properties will change for optimization and to include more geometry types.</p></li>
</ul>
<div class="section" id="optimized">
<span id="optimized-settings"></span><h2>optimized<a class="headerlink" href="#optimized" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>tldr: there is setting file  <code class="docutils literal notranslate"><span class="pre">boss/settings/op_settings.json</span></code>. In that file, <code class="docutils literal notranslate"><span class="pre">draw_mode</span></code> is set to
blank <code class="docutils literal notranslate"><span class="pre">''</span></code>. You can set it to <code class="docutils literal notranslate"><span class="pre">optimized</span></code> to optimize drawing. Sorting (among other things) is not handled
in this mode for optimization.</p>
</div>
<p>This explanation is a bit technical so you can safely skip it if you have read the above note. OTOH, if you are expert
or know some bgl/opengl stuff, you can suggest some solution/answer for future.</p>
<p>Since, this class is responsible for drawing, this class uses shaders, batches and images and makes use of gpu and
bgl modules to draw geometries.</p>
<p>This project doesn’t require expert level knowledge of opengl and examples code given in blender documentation is enough
for drawing rect or drawing an image. This project needs only that at the moment.</p>
<p>I am no expert in opengl and am reading it to gain enough knowledge to decide how to properly batch geometries and order
them to efficiently draw all the gui stuff as well as texts.</p>
<p>I have to take into account many things to decide a proper way doing it. Changing colors, disabling/enabing geometries,
deleting geometries, sorting and all the future use case that I have in mind.</p>
<p><code class="docutils literal notranslate"><span class="pre">draw_mode</span> <span class="pre">==</span> <span class="pre">'optimized'</span></code> is a temporary quick fix to draw geometries. This does following things:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Instead of calling draw method of geo class of each panel/button, draws them in a loop, trying to keep shader binding
to minimum and opengl state changes to minimum before drawing each geometry. If shader is same it simply sets the
uniform and draws the geometry.(which I think blender does anyway at C level, so it might be unnecessary)</p></li>
<li><p>Makes use of global settings for drawing all texts and ignores custom settings of each panel/button. So, you can’t
draw one textfield that is red and sized 20 and another that is white and sized 15. (It don’t know how costly
changing fonts and colors are)</p></li>
<li><p>First, draws all the rectangles(polygons) in a loop, and, then draws all the texts in a loop. (This causes sorting issue)
(Usually, in other ui systems, things are not drawn on top of each other, so this way drawing geo in loop
and then drawing texts in a loop won’t cause any issue. There is no such constraint in BOSS and if you won’t
draw overlapping geometries this would work just fine.)</p></li>
</ol>
</div></blockquote>
<p>A lot of the above mentioned lack of features is not much of importance for now because geometry/text features
are not added to <code class="docutils literal notranslate"><span class="pre">ui_creater.py</span></code> or <code class="docutils literal notranslate"><span class="pre">UICreator</span></code> class. Moreover, these features are about aesthetics and not
functionality.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At the moment, to draw partial geometry(clipping) there is shader that takes four floats and clips the geometry in
fragment shader. I don’t think, it’s good. To make things worse, it does the same thing for texts too.</p>
<p>To solve that, geometries can be batched in on geometry (which is already working partially) and text can simply be
shortened/removed.</p>
<p>In future, may be a stencil can be used for both rectangle and texts.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="RectData.html" class="btn btn-neutral float-right" title="RectData" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="Boss_OT_base_ui.html" class="btn btn-neutral float-left" title="Boss_OT_base_ui" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, bboss99.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>